---
import { GlobeIcon } from '@heroicons/react/outline';

import BaseLayout from '../layouts/BaseLayout.astro';
import Picture from '../components/Picture.tsx';
import images from '../config/images.json';
import items from '../config/checklist.json';
import posts from '../config/posts.json';

const title = 'Blog playground';
const r = () => Math.floor(Math.random() * (2 - 0 + 1));
---

<BaseLayout title={title}>
  <!-- Hero -->
  <div class="lg:relative">
    <div
      class="relative lg:absolute lg:inset-0 mx-auto max-w-7xl w-full py-10 text-center flex items-center lg:text-left"
    >
      <div class="px-4 lg:w-1/2 sm:px-8 xl:pr-16">
        <h1
          class="font-serif text-4xl tracking-tight font-extrabold text-gray-900 sm:text-5xl md:text-6xl lg:text-5xl xl:text-6xl"
        >
          <span class="block xl:inline">Sustainability</span><br />
          <span class="block text-green-500 xl:inline">is cool too!</span>
        </h1>
        <p
          class="mt-3 max-w-md mx-auto text-lg text-gray-500 sm:text-xl md:mt-5 md:max-w-3xl"
        >
          Anim aute id magna aliqua ad ad non deserunt sunt. Qui irure qui lorem
          cupidatat commodo. Elit sunt amet fugiat veniam occaecat fugiat
          aliqua.
        </p>
        <div class="mt-10 sm:flex sm:justify-center lg:justify-start">
          <div class="rounded-md shadow">
            <a
              href="#"
              class="w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-green-500 hover:bg-green-700 md:py-4 md:text-lg md:px-10"
            >
              Get started
            </a>
          </div>
          <div class="mt-3 rounded-md shadow sm:mt-0 sm:ml-3">
            <a
              href="#"
              class="w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-green-500 bg-white hover:bg-gray-50 md:py-4 md:text-lg md:px-10"
            >
              Live demo
            </a>
          </div>
        </div>
      </div>
    </div>
    <div class="w-full h-full lg:w-1/2 ml-auto">
      <Picture
        src="dylan-shaw-Y95DsVlJnls-unsplash"
        ratio="original"
        sizes="(min-width: 1040px) 50vw, 100vw"
      />
    </div>
  </div>

  <div class="max-w-7xl mx-auto px-2 sm:px-6 lg:px-8">
    <!-- Features -->

    <div class="text-center my-24">
      <h2
        class="text-base font-semibold uppercase tracking-wider text-green-600"
      >
        Deploy faster
      </h2>
      <p
        class="font-serif mt-2 text-3xl font-extrabold tracking-tight text-gray-900 sm:text-4xl"
      >
        Everything you need to deploy your app
      </p>
      <p class="mx-auto mt-5 max-w-prose text-xl text-gray-500">
        Phasellus lorem quam molestie id quisque diam aenean nulla in. Accumsan
        in quis quis nunc, ullamcorper malesuada. Eleifend condimentum id
        viverra nulla.
      </p>
      <div class="mt-12">
        <div class="grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3">
          {items.slice(0, 6).map((item) => (
            <div class="pt-6">
              <div class="flow-root rounded-lg bg-gray-50 px-6 pb-8">
                <div class="-mt-6">
                  <div>
                    <span class="inline-flex items-center justify-center rounded-md bg-green-500 p-3 shadow-lg">
                      <GlobeIcon className="h-6 w-6 text-white" />
                    </span>
                  </div>
                  <h3 class="mt-8 text-lg font-medium tracking-tight text-gray-900">
                    {item.title}
                  </h3>
                  <p class="mt-5 text-base text-gray-500">{item.desc}</p>
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>

    <!-- Articles -->
    <div class="text-center my-12">
      <h2
        class="font-serif text-3xl tracking-tight font-extrabold text-gray-900 sm:text-4xl"
      >
        From the blog
      </h2>
      <p class="mt-3 max-w-2xl mx-auto text-xl text-gray-500 sm:mt-4">
        Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ipsa libero
        labore natus atque, ducimus sed.
      </p>
    </div>
    <div class="mt-12 max-w-lg mx-auto grid gap-5 lg:grid-cols-3 lg:max-w-none">
      {Object.keys(images).map((image) => (
        <div class="flex flex-col rounded-lg shadow-lg overflow-hidden">
          <div class="flex-shrink-0">
            <a href="#">
              <Picture
                src={image}
                ratio="16:9"
                sizes="(min-width: 1360px) 392px, (min-width: 1040px) calc(26.67vw + 35px), (min-width: 560px) 512px, 95vw"
              />
            </a>
          </div>
          <div class="flex-1 bg-white p-6 flex flex-col justify-between">
            <div class="flex-1">
              <p class="text-sm font-medium text-green-500">
                <a href={posts[r()].category.href} class="hover:underline">
                  {posts[r()].category.name}
                </a>
              </p>
              <a href={posts[r()].href} class="block mt-2">
                <p class="text-xl font-semibold text-gray-900">
                  {posts[r()].title}
                </p>
                <p class="mt-3 text-base text-gray-500">
                  {posts[r()].description}
                </p>
              </a>
            </div>
            <div class="mt-6 flex items-center">
              <div class="flex-shrink-0">
                <a href={posts[r()].author.href}>
                  <span class="sr-only">{posts[r()].author.name}</span>
                  <img
                    class="h-10 w-10 rounded-full"
                    src={posts[r()].author.imageUrl}
                    alt=""
                  />
                </a>
              </div>
              <div class="ml-3">
                <p class="text-sm font-medium text-gray-900">
                  <a href={posts[r()].author.href} class="hover:underline">
                    {posts[r()].author.name}
                  </a>
                </p>
                <div class="flex space-x-1 text-sm text-gray-500">
                  <time>{posts[r()].date}</time>
                  <span aria-hidden="true">&middot;</span>
                  <span>{posts[r()].readingTime} read</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      ))}
    </div>
  </div>
</BaseLayout>
